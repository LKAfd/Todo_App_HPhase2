# API Contracts: Todo Web Application

## Authentication Endpoints

### POST /api/auth/signup
**Description**: Create a new user account
**Request**:
- Headers: Content-Type: application/json
- Body:
  ```json
  {
    "email": "string (required)",
    "password": "string (required, min 8 chars)",
    "name": "string (required)"
  }
  ```
**Response**:
- 200:
  ```json
  {
    "success": true,
    "user": {
      "id": "string",
      "email": "string",
      "name": "string"
    },
    "token": "string (JWT)"
  }
  ```
- 400: Invalid input
- 409: User already exists

### POST /api/auth/signin
**Description**: Authenticate existing user
**Request**:
- Headers: Content-Type: application/json
- Body:
  ```json
  {
    "email": "string (required)",
    "password": "string (required)"
  }
  ```
**Response**:
- 200:
  ```json
  {
    "success": true,
    "user": {
      "id": "string",
      "email": "string",
      "name": "string"
    },
    "token": "string (JWT)"
  }
  ```
- 400: Invalid input
- 401: Invalid credentials

### POST /api/auth/signout
**Description**: Logout user and invalidate session
**Headers**:
- Authorization: Bearer {token}
**Response**:
- 200: { "success": true }
- 401: Unauthorized

## Task Management Endpoints

### GET /api/tasks
**Description**: Retrieve all tasks for authenticated user
**Headers**:
- Authorization: Bearer {token}
**Response**:
- 200:
  ```json
  [
    {
      "id": "string",
      "title": "string",
      "description": "string",
      "completed": "boolean",
      "userId": "string",
      "createdAt": "ISO date string",
      "updatedAt": "ISO date string"
    }
  ]
  ```
- 401: Unauthorized

### POST /api/tasks
**Description**: Create a new task
**Headers**:
- Authorization: Bearer {token}
**Body**:
```json
{
  "title": "string (required)",
  "description": "string (optional)",
  "completed": "boolean (optional, default: false)"
}
```
**Response**:
- 201:
  ```json
  {
    "id": "string",
    "title": "string",
    "description": "string",
    "completed": "boolean",
    "userId": "string",
    "createdAt": "ISO date string",
    "updatedAt": "ISO date string"
  }
  ```
- 400: Invalid input
- 401: Unauthorized

### PUT /api/tasks/{taskId}
**Description**: Update an existing task
**Headers**:
- Authorization: Bearer {token}
**Path Parameter**: taskId (string)
**Body**:
```json
{
  "title": "string (optional)",
  "description": "string (optional)",
  "completed": "boolean (optional)"
}
```
**Response**:
- 200:
  ```json
  {
    "id": "string",
    "title": "string",
    "description": "string",
    "completed": "boolean",
    "userId": "string",
    "createdAt": "ISO date string",
    "updatedAt": "ISO date string"
  }
  ```
- 400: Invalid input
- 401: Unauthorized
- 404: Task not found

### DELETE /api/tasks/{taskId}
**Description**: Delete a task
**Headers**:
- Authorization: Bearer {token}
**Path Parameter**: taskId (string)
**Response**:
- 200: { "success": true }
- 401: Unauthorized
- 404: Task not found

### PATCH /api/tasks/{taskId}/toggle
**Description**: Toggle task completion status
**Headers**:
- Authorization: Bearer {token}
**Path Parameter**: taskId (string)
**Response**:
- 200:
  ```json
  {
    "id": "string",
    "completed": "boolean",
    "updatedAt": "ISO date string"
  }
  ```
- 401: Unauthorized
- 404: Task not found